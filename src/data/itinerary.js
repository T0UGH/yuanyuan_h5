
import yellowCraneTower from '../assets/spots/yellow-crane-tower.svg';
import naiLong1 from '../assets/spots/nailong1.gif';
import naiLong2 from '../assets/spots/nailong2.gif';
import naiLong3 from '../assets/spots/nailong3.gif';
import cake from '../assets/spots/cake.jpeg';
import sleep from  '../assets/spots/sleep.gif';
import hubuxiang from  '../assets/spots/hubuxiang.jpeg';
import huanghelou1 from '../assets/spots/huanghelou1.jpeg'
import huanghelou2 from '../assets/spots/huanghelou2.jpeg'
import naiLong5 from '../assets/spots/nailong5.jpeg';
import yinghua1 from '../assets/spots/yinghua1.jpeg';
import yinghua2 from '../assets/spots/yinghua2.jpeg';
import guiyuansi from '../assets/spots/guiyuansi.jpeg';
import lihuangpi from '../assets/spots/lihuangpi.jpeg';
import lihuangpi2 from '../assets/spots/lihuangpi2.jpeg';


export const boyItinerary = {
 
};

export const girlItinerary = {

};

export const itineraryData = {
  '2024-03-21': [
    {
      time: '12:00-18:00',
      spot: '高铁中',
      images: [naiLong1],
      description: '🚄孤寡赞赞各自坐高铁', 
      tips: [
        '💺 选座玄学：过道位方便溜达，但可能被餐车碾过jio',
        '🎧 降噪秘籍：外放抖音的大叔 vs 哭闹熊孩，建议音量开满',
        '🍜 社死现场：红烧牛肉面请端稳，前座可能突然放倒椅子',
        '👀 观察游戏：数数这节车厢有几个人在刷相亲相爱一家人'
      ]
    },
    {
      time: '18:00-19:00',
      spot: '打车大作战前往酒店中',
      images: [naiLong2],
      description: '🚖晚高峰的武汉街头，见证司机师傅的秋名山车技（实际时速28km/h）', 
      tips: [
        '⏱ 时间玄学：地铁换乘3次 vs 打车等半小时，成年人当然是全都要',
        '📱 打车秘籍：勾选「接受拼车」可能更快，但要做好听陌生人电话粥的准备',
        '🧭 导航暗语："师傅咱走最快那条，红灯少点的"',
        '💼 必备技能：用膝盖顶住前座，防止急刹时手机飞出去'
      ]
    },
    {
        time: '19:00-20:30',
        spot: '江景餐厅就餐中',
        images: [cake],
        description: '孤寡坚持"甲鱼养生"，赞赞执着蛋糕🍰', 
        tips: [
          '📸 拍照玄学：蛋糕要放江景倒影侧，甲鱼汤撒葱花能提亮',
          '🚫 防纠结：直接说"除了甲鱼和蛋糕其他都行"',
          '💁 应对推销：举蛋糕唱"生日快乐歌"可打断办卡话术'
        ]
    },
    {
      time: '20:30-24:00',
      spot: '回酒店睡觉中',
      images: [sleep],
      description: 'zzz',
      tips: [
        'zzz',
        'zzzz',
        'zzzzz',
        'zzzzzz'
      ]
    }
  ],
  '2024-03-22': [
    {
        time: '00:00-07:00',
        spot: '还在睡觉',
        images: [sleep],
        description: 'zzz',
        tips: [
          'zzz',
          'zzz',
          'zzz',
          'zzz'
        ]
    },
    {
        time: '07:00-08:30',
        spot: '户部巷吃吃喝喝中',
        images: [hubuxiang],
        description: '武汉著名的美食街，汇集了各种地道小吃。',
        tips: [
          '建议避开用餐高峰时间',
          '可以品尝三鲜豆皮、面窝、糊汤粉等',
          '注意卫生，选择人气较高的店铺',
          '建议适量品尝，不要贪吃'
        ]
    },
    {
      time: '09:00-12:00',
      spot: '观赏黄鹤楼美景中',
      images: [huanghelou1, huanghelou2],
      description: '登上黄鹤楼，俯瞰长江和汉江交汇处的壮丽景色。',
      tips: [
        '建议早上去避开人流高峰',
        '可以在园内找寻樱花树',
        '门票约80元，建议提前网上购买',
        '可以品尝周边的户部巷小吃'
      ]
    },
    {
      time: '12:00-13:00',
      spot: '打车の奇妙物语',
      images: [naiLong5],
      description: '🚖司机用散装日语接单，车内循环《好运来》BGM，每个红绿灯都是信仰之跃', 
      tips: [
        '🗣 社交话术：先夸司机"您这车技能上秋名山吧"可提速10%',
        '🌬 气味管理：开窗可能吸入前车尾气，关窗会闷出泡面味',
        '📶 信号玄学：过长江时举高手机能抢救直播卡顿',
        '🧴 防晒妙招：用行程单遮脸，物理防晒+社恐防护二合一'
      ]
    },
    {
      time: '13:00-18:00',
      spot: '东湖樱园观赏樱花中',
      images: [yinghua1, yinghua2],
      description: '🌸樱花密度超标警告！每平方厘米至少3个汉服小姐姐+5个反光板，自拍杆丛林生存指南启动', 
      tips: [
        '📸 出片玄学：找到「男友视角」拍摄位可避免路人入镜',
        '👘 着装buff：浅色系衣服+痛包=自动触发樱花妹皮肤',
        '🚶 防走失术：约定「如果走散就大喊我是五条悟」',
        '👟 装备建议：洞洞鞋才是踩花瓣的最强战靴'
      ]
    },
    {
        time: '18:00-20:00',
        spot: '回江汉路步行街吃饭中',
        images: [naiLong3],
        description: '夜晚的长江大桥灯光璀璨，是观赏武汉夜景的好去处。',
        tips: [
          '可以在江滩公园散步',
          '夜景拍照建议带三脚架',
          '注意保暖',
          '建议结伴同行'
        ]
    },
    {
        time: '20:00-24:00',
        spot: '酒店睡觉中',
        images: [sleep],
        description: 'zzz',
        tips: [
          'zzz',
          'zzz',
          'zzz',
          'zzz'
        ]
    },
  ],
  '2024-03-23': [
    {
      time: '08:00-09:30',
      spot: '游览归元寺中',
      images: [guiyuansi],
      description: '武汉最古老的寺庙之一，园内也有樱花可赏。',
      tips: [
        '早晨去可以感受清净氛围',
        '可以品尝寺内素食',
        '注意着装要得体',
        '可以在寺内求个平安符'
      ]
    },
    {
      time: '09:30-17:00',
      spot: '游览江汉路步行街中',
      images: [lihuangpi, lihuangpi2],
      description: '沿江观光带，可以欣赏江景和樱花。',
      tips: [
        '下午阳光不太强烈，适合散步',
        '可以租借共享单车游览',
        '准备防晒用品',
        '建议带些零食'
      ]
    },
    {
        time: '17:00-24:00',
        spot: '各自返程中',
        images: [naiLong3],
        description: '🛫📱💼🚇 薛定谔的行李+地铁人体压缩实验', 
        tips: [
          '📱 手机电量焦虑症晚期',
          '💼 安检口表演行李消失术',
          '🚇 体验沙丁鱼の哲学',
          '🎧 降噪耳机才是最后の尊严'
        ]
    },
  ]
};

const defaultSpot = {
  time: '00:00-24:00',
  spot: '摸鱼中...',
  images: [naiLong1, naiLong2, naiLong3, sleep],
  description: '当代年轻人的日常循环：🌙睡觉 → 🚇上班 → 🐟摸鱼 → 🍚吃饭（重复N次）',
  tips: [
    '🐟工位常备小零食，摸鱼更带劲',
    '🚇学会用Alt+Tab快速切换窗口',
    '🐟带薪如厕是基本人权，每天至少0.5小时',
    '🐟摸鱼时保持严肃表情，假装在思考需求'
  ]
};

export function getCurrentTimeSpot(date, isGirl = false) {
  const spots = getItineraryByTime(date, isGirl);
  if (!spots) return defaultSpot;

  const now = new Date(date);
  const currentTime = now.getHours() * 60 + now.getMinutes();

  // 修复：按时间顺序排序spots后查找
  const sortedSpots = [...spots].sort((a, b) => {
    const [aStart] = a.time.split('-').map(t => t.trim());
    const [bStart] = b.time.split('-').map(t => t.trim());
    return parseInt(aStart.replace(':', '')) - parseInt(bStart.replace(':', ''));
  });

  const currentSpot = sortedSpots.find(spot => {
    const [start, end] = spot.time.split('-').map(t => t.trim());
    const [startHour, startMinute] = start.split(':').map(Number);
    const [endHour, endMinute] = end.split(':').map(Number);
    const startTime = startHour * 60 + startMinute;
    const endTime = endHour * 60 + endMinute;
    return currentTime >= startTime && currentTime < endTime;
  });

  return currentSpot || defaultSpot;
}

export function getItineraryByTime(date, isGirl = false) {
  const dateStr = date.toISOString().split('T')[0];
  const data = isGirl ? girlItinerary : boyItinerary;
  const specificItinerary = data[dateStr];
  if (specificItinerary) return specificItinerary;
  
  const commonItinerary = itineraryData[dateStr];
  return commonItinerary || [defaultSpot];
}